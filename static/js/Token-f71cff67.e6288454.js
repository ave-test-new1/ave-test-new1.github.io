(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Token-f71cff67"],{"0035":function(e,t,i){},"0563":function(e,t,i){"use strict";var o=i("7a23");const s={key:0,class:"count"},a={class:"block"},r={class:"block"},l={class:"block"},n={class:"block"},c={key:1,class:"risk"};function d(e,t,i,d,u,h){const _=Object(o["resolveComponent"])("count-down"),m=Object(o["resolveComponent"])("Warning"),b=Object(o["resolveComponent"])("el-icon");return this.$store.state.tokenPrice||this.tokenInfo.priceUSD?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[u.showTime&&h.time>0?(Object(o["openBlock"])(),Object(o["createBlock"])(_,{key:0,class:"count-down mt-8",time:h.time,format:"DD:HH:mm:ss",onFinish:h.finishTime},{default:Object(o["withCtx"])(i=>[Object(o["createElementVNode"])("span",a,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.days<10?"0"+i.days:i.days)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("DD")),1)]),t[0]||(t[0]=Object(o["createElementVNode"])("span",{class:"colon"},":",-1)),Object(o["createElementVNode"])("span",r,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.hours<10?"0"+i.hours:i.hours)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("HH")),1)]),t[1]||(t[1]=Object(o["createElementVNode"])("span",{class:"colon"},":",-1)),Object(o["createElementVNode"])("span",l,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.minutes<10?"0"+i.minutes:i.minutes)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("MM")),1)]),t[2]||(t[2]=Object(o["createElementVNode"])("span",{class:"colon"},":",-1)),Object(o["createElementVNode"])("span",n,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.seconds<10?"0"+i.seconds:i.seconds)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("SS")),1)])]),_:1},8,["time","onFinish"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createVNode"])(b,{class:"no-inherit",style:{color:"rgb(248, 190, 70)"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m)]),_:1}),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("unknownRisk")),1)]))]))}var u=i("cdc2"),h={data(){return{visible1:!1,activeGroup:0,showTime:!0}},emits:["init"],components:{CountDown:u["a"]},computed:{tokenInfo(){return this.$store.state.tokenInfo},time(){return this.$store.state.tokenInfo.countDown}},methods:{finishTime(){this.showTime=!1,this.$store.dispatch("getToken"),this.$emit("init")}}},_=(i("1e23"),i("6b0d")),m=i.n(_);const b=m()(h,[["render",d],["__scopeId","data-v-29d28493"]]);t["a"]=b},"09aa":function(e,t,i){"use strict";i("aa0a")},"0aab":function(e,t,i){},"0d8f":function(e,t,i){"use strict";i("9dea")},"18d4":function(e,t,i){e.exports=i.p+"static/img/pause.2a269b04.svg"},"191a":function(e,t,i){},"1b05":function(e,t,i){},"1e23":function(e,t,i){"use strict";i("c000")},2499:function(e,t,i){"use strict";var o=i("7a23");const s={class:"table"},a={class:"table-list"},r={class:"table-item table-header"},l={class:"table-item-d"},n={class:"table-item-d"},c={class:"table-item-d"},d=["onClick"],u={class:"table-item-d"},h={class:"table-item-d_row"},_={class:"table-item-d_row"},m={class:"table-item-d"},b={class:"table-item-d"},v={class:"table-item-d_row"},p={class:"unit"},g={class:"table-item-d_row"},f={class:"unit"},O={class:"table-item-d"},k={class:"table-item-d_row white"},j={class:"table-item-d_row"};function $(e,t,i,$,y,w){const E=Object(o["resolveComponent"])("loading"),D=Object(o["resolveComponent"])("el-empty");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createVNode"])(E,{active:w.isLoading,"onUpdate:active":t[0]||(t[0]=e=>w.isLoading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(o["createElementVNode"])("ul",a,[Object(o["createElementVNode"])("li",r,[Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$t("type")),1),Object(o["createElementVNode"])("span",n,Object(o["toDisplayString"])(e.$t("amount"))+"/"+Object(o["toDisplayString"])(e.$t("token")),1),Object(o["createElementVNode"])("span",c,Object(o["toDisplayString"])(e.$t("provider")),1)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.tableList,(t,i)=>{var s;return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"table-item",key:i,onClick:Object(o["withModifiers"])(e=>w.goLink(t),["stop"])},[Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(o["toDisplayString"])(1==t.type?e.$t("add"):e.$t("remove")),3)]),Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("span",m,Object(o["toDisplayString"])(e.$f.formatDate(t.timestamp,"HH:mm:ss")),1)])]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount0||0,2,4,1e4)),3),Object(o["createElementVNode"])("span",p,Object(o["toDisplayString"])(t.token0Symbol),1)]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount1||0,2,4,1e4)),3),Object(o["createElementVNode"])("span",f,Object(o["toDisplayString"])(t.token1Symbol),1)])]),Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("div",k," $"+Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount0*t.token0_price_usd+t.amount1*t.token1_price_usd||0,2,4,1e4)),1),Object(o["createElementVNode"])("div",j,"*"+Object(o["toDisplayString"])(null===(s=t.wallet_address)||void 0===s?void 0:s.slice(-6)),1)])],8,d)}),128)),Object(o["withDirectives"])(Object(o["createVNode"])(D,{"image-size":100,image:"light"===e.$store.state.mode?y.imageEmptyWhite:y.imageEmptyBlack},null,8,["image"]),[[o["vShow"],i.tableList&&0===i.tableList.length&&!w.isLoading]])])])}var y=i("fa7d"),w=i("b28f"),E=i.n(w),D=i("fab6"),C=i.n(D),N={name:"LiquidityHistory",props:{tableList:Array,loading:{type:Boolean,default:!1}},data(){return{imageEmptyWhite:E.a,imageEmptyBlack:C.a}},computed:{tokenInfo(){return this.$store.state.tokenInfo||Object(y["j"])()},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(this.$store.state.id))||void 0===e?void 0:e.address:""},addressSplit(){return this.tokenInfo.address.replace(new RegExp("(.{4})(.+)(.{4})"),"$1...$3")},isLoading(){return this.loading}},methods:{goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))}}},S=(i("0d8f"),i("6b0d")),M=i.n(S);const B=M()(N,[["render",$],["__scopeId","data-v-56ed3e16"]]);t["a"]=B},"34ad":function(e,t,i){e.exports=i.p+"static/img/ratio.1301e067.svg"},"3c0e":function(e,t,i){},"4b1c":function(e,t,i){"use strict";var o=i("7a23");const s=["src"];function a(e,t,i,a,r,l){var n;return(null===(n=l.newTags)||void 0===n?void 0:n.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"flex pointer",onMouseover:t[0]||(t[0]=Object(o["withModifiers"])((...e)=>l.onEnter&&l.onEnter(...e),["stop"])),onMouseleave:t[1]||(t[1]=Object(o["withModifiers"])((...e)=>l.onLeave&&l.onLeave(...e),["stop"]))},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.newTags,(t,a)=>{var r,l;return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:a},[null!==(r=t.type)&&void 0!==r&&r.includes("TOP")&&(null===(l=t.type)||void 0===l?void 0:l.slice(3))<25||Number(t.type)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,style:{"pointer-events":"none"},class:Object(o["normalizeClass"])(i.tagClass),src:e.$f.formatNewTags(t.icon),alt:"",height:"15"},null,10,s)):Object(o["createCommentVNode"])("",!0)],64)}),128))],32)):Object(o["createCommentVNode"])("",!0)}i("0643"),i("9a9a");const r={key:1,class:"color-f2ad41 mt-5"},l={class:"block mt-5 color"},n={class:"block mt-5"},c={class:"block mt-5"};function d(e,t,i,s,a,d){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.tags,(t,i)=>{var s;return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[Number(t.type)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"mr-3 font-12",style:Object(o["normalizeStyle"])({color:t.color})}," ["+Object(o["toDisplayString"])(null===t||void 0===t?void 0:t[d.filterLanguage(e.$store.getters.language)])+"] ",5)):Object(o["createCommentVNode"])("",!0),(null===(s=t.extra_info)||void 0===s?void 0:s.length)>0&&"9"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(null===t||void 0===t?void 0:t.extra_info,(t,i)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$t("lockAmount"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount,2,4,1e6)),1),Object(o["createElementVNode"])("span",n,Object(o["toDisplayString"])(e.$t("lockDate"))+": "+Object(o["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(o["createElementVNode"])("span",c,Object(o["toDisplayString"])(e.$t("unlockDate"))+": "+Object(o["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1)],64))),128))])):Object(o["createCommentVNode"])("",!0)],64)}),128))])}var u=i("7f08"),h={name:"tagsContent",props:{tags:{type:Array,default:()=>[]}},methods:{filterLanguage:u["filterLanguage"]}},_=i("6b0d"),m=i.n(_);const b=m()(h,[["render",d]]);var v=b,p=i("8e2e");let{getPublicPortrait:g}=Object(p["h"])();var f={name:"signalTags",props:{tags:{type:Array,default:()=>[]},tagClass:{type:String,default:"ml-3"},wallet_address:{type:String,default:""},chain:{type:String,default:""}},computed:{newTags(){var e;if(!this.wallet_address||!this.chain)return this.tags;let t=(null===(e=g(this.wallet_address,this.chain))||void 0===e?void 0:e.new_tags)||[],i=(null===t||void 0===t?void 0:t.length)>0?t:this.tags;return i||[]}},methods:{onEnter(e){this.newTags.some(e=>Number(e.type))&&this.$tooltip.show({content:{is:v,props:{tags:this.newTags}},target:e.target,props:{effect:"customized",placement:"top","popper-class":this.$store.state.mode}})},onLeave(){this.$tooltip.hide()}}};const O=m()(f,[["render",a]]);t["a"]=O},"4b226":function(e,t,i){"use strict";var o=i("7a23");const s={class:"tabs"},a={class:"connect-popup-title tab-container"},r={class:"tab-button"},l=["onClick"],n={style:{width:"100%",padding:"0 5px"}},c={class:"token-info"},d={class:"icon-token-container"},u=["src"],h=["src"],_={class:"token-symbol"},m=["onClick"],b={key:0,class:"loading-container"},v={style:{width:"100%",padding:"0 5px","margin-top":"10px"}},p=["onClick"],g=["onClick"],f={class:"mt-20"},O=["icon"];function k(e,t,i,k,j,$){const y=Object(o["resolveComponent"])("van-tab"),w=Object(o["resolveComponent"])("van-tabs"),E=Object(o["resolveComponent"])("el-table-column"),D=Object(o["resolveComponent"])("el-option"),C=Object(o["resolveComponent"])("el-select"),N=Object(o["resolveComponent"])("el-button"),S=Object(o["resolveComponent"])("el-table"),M=Object(o["resolveComponent"])("Loading"),B=Object(o["resolveComponent"])("el-icon"),P=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(P,{class:Object(o["normalizeClass"])(["dialog",e.$store.state.mode]),modelValue:$.show,"onUpdate:modelValue":t[2]||(t[2]=e=>$.show=e),width:"800px","append-to-body":""},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",r,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])($.tabs,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{href:"",class:Object(o["normalizeClass"])(["tab-item",{active:e.id==j.active}]),key:t,onClick:Object(o["withModifiers"])(t=>$.switchTab(e),["stop","prevent"])},Object(o["toDisplayString"])(e.name),11,l))),128))])])])]),default:Object(o["withCtx"])(()=>[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])(w,{class:"fav-tabs",active:j.activeGroup,"onUpdate:active":t[0]||(t[0]=e=>j.activeGroup=e),"line-height":"0","title-active-color":"light"===e.$store.state.mode?"#333333":"#fff","title-inactive-color":"#80838B",color:"#558BED",ellipsis:!1,shrink:"",background:"transparent"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(y,{title:e.$t("defaultGroup"),name:0},null,8,["title"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])($.groups,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(y,{key:t,title:e.name,name:e.group_id},null,8,["title","name"]))),128))]),_:1},8,["active","title-active-color"]),Object(o["createElementVNode"])("div",n,[Object(o["createVNode"])(S,{class:"tableManger",data:j.favoritesList,height:"350px",style:{width:"100%"},ref:"table_ref","highlight-current-row":"",id:"table_fav"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,{label:e.$t("token")},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatIcon(t,t.symbol),alt:"",height:"25",onerror:"this.src='/icon-default.png'"},null,8,u),t.network?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.network}.png`,alt:"",srcset:""},null,8,h)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",_,Object(o["toDisplayString"])(t.symbol),1)])]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("changeGroup"),align:"center"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createVNode"])(C,{class:"select3",modelValue:t.activeGroup,"onUpdate:modelValue":e=>t.activeGroup=e,placeholder:e.$t("pleaseSelectGroup"),onChange:e=>$.confirmSwitchGroup(t,e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D,{label:e.$t("defaultGroup"),value:0,disabled:0===j.activeGroup},null,8,["label","disabled"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])($.groups,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(D,{key:e.group_id,label:e.name,value:e.group_id,disabled:j.activeGroup===t.group_id},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"])]),_:1},8,["label"]),Object(o["createVNode"])(E,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(o["withCtx"])(({row:t,$index:i})=>[Object(o["createVNode"])(N,{link:"",size:"small",disabled:0===i,onClick:Object(o["withModifiers"])(e=>$.tokenSetTop(t,i),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("top")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:0===i,onClick:Object(o["withModifiers"])(e=>$.changeFavoritesIndex(t,i,-1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("up")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:i+1===j.favoritesList.length,onClick:Object(o["withModifiers"])(e=>$.changeFavoritesIndex(t,i,1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("down")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("remark"),"show-overflow-tooltip":"",align:"center"},{default:Object(o["withCtx"])(({row:e})=>[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.remark||"-"),1)]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("operate"),align:"left"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>$.handleEditRemark(t),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("edit")),9,m)]),_:1},8,["label"])]),_:1},8,["data"]),j.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,[Object(o["createVNode"])(B,{class:"is-loading"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(M)]),_:1}),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("loading")),1)])):Object(o["createCommentVNode"])("",!0)])],512),[[o["vShow"],"1"===j.active]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",v,[Object(o["createVNode"])(S,{data:$.groups,style:{width:"100%"},height:"350px",class:"tableManger"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,{label:e.$t("groupName"),prop:"name"},null,8,["label"]),Object(o["createVNode"])(E,{label:e.$t("rename"),align:"center"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>$.rename(t),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("edit")),9,p)]),_:1},8,["label"]),Object(o["createVNode"])(E,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(o["withCtx"])(({row:t,$index:i})=>[Object(o["createVNode"])(N,{size:"large",link:"",disabled:0===i,onClick:Object(o["withModifiers"])(e=>$.setTopFavoriteGroup(t,i),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("top")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:0===i,onClick:Object(o["withModifiers"])(e=>$.changeIndexFavoriteGroup(t,i,-1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("up")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:i+1===$.groups.length,onClick:Object(o["withModifiers"])(e=>$.changeIndexFavoriteGroup(t,i,1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("down")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("operate"),align:"center"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>$.removeFavoriteGroup(t),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("delete")),9,g)]),_:1},8,["label"])]),_:1},8,["data"]),Object(o["createElementVNode"])("div",f,["2"===j.active?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"manage",href:"",icon:e.Plus,onClick:t[1]||(t[1]=Object(o["withModifiers"])(t=>e.confirmChangeName("add"),["stop","prevent"]))},Object(o["toDisplayString"])(e.$t("newGroup")),9,O)):Object(o["createCommentVNode"])("",!0)])],512),[[o["vShow"],"2"===j.active]])]),_:1},8,["modelValue","class"])}i("a573");var j=i("3e47"),$=i("aad9"),y=i("365c"),w=i("d1e6"),E={name:"FavoriteManage",props:{visible:Boolean,isScroll:Boolean},components:{"van-tab":j["a"],"van-tabs":$["a"],Loading:w["a"]},data(){return{active:"1",activeTab:"1",activeGroup:0,visible1:!1,visible2:!1,visible3:!1,visible4:!1,selectedToken:{},favoritesList:[],curGroup:{},actions:[{name:"Token",value:"1"},{name:"NFT",value:"2"}],curRemark:"",curToken:{},selectGroup:0,loading:!1,noMoreData:!1,page:1,pageSize:20,scrollContainer:null}},computed:{tabs(){return[{name:this.$t("favoriteManage"),id:"1"},{name:this.$t("groupManage"),id:"2"}]},show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},groups(){return this.$store.state.userFavoriteGroups},currentAccount(){var e;return this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress)||""},collected(){return this.$store.state.favorites.includes(this.$store.state.id)}},watch:{"$route.params.type"(e){"1"===e&&(this.resetPagination(),this.getUserFavorites())},activeGroup(e){this.resetPagination(),this.getUserFavorites(),this.selectGroup=e},groups:{handler(){this.activeGroup=0},deep:!0},currentAccount(e){e&&(this.resetPagination(),this.getUserFavorites())},show(e){e&&(this.resetPagination(),this.getUserFavorites(),this.$nextTick(()=>{setTimeout(()=>{this.getScrollContainer()},500)}))}},created(){this.getUserFavorites()},beforeUnmount(){},methods:{resetPagination(){this.page=1,this.favoritesList=[],this.noMoreData=!1},switchTab(e){this.active=e.id},init(){this.resetPagination(),this.getUserFavorites()},async getUserFavorites(){if(!this.loading){this.loading=!0;try{const e=await Object(y["Rb"])(this.activeGroup,this.page),t=e.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:null!==e&&void 0!==e&&e.price_change?(null===e||void 0===e?void 0:e.price_change)/100:0,priceUSD:(null===e||void 0===e?void 0:e.current_price_usd)||0,activeGroup:this.activeGroup}));1===this.page?this.favoritesList=t:this.favoritesList=[...this.favoritesList,...t],0===e.length&&(this.noMoreData=!0)}catch(e){}finally{this.loading=!1}}},async loadMoreFavorites(){this.loading=!0,this.page++,this.getUserFavorites()},switchGroup(e){this.selectedToken=e,this.visible1=!0},tokenSetTop(e,t){if(0===t)return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["cb"])(e.token+"-"+e.chain,this.activeGroup).then(()=>{this.init(),this.$store.state.collectChange++,this.$message.success(this.$t("success"))}).catch(()=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},changeFavoritesIndex(e,t,i){if(!this.$f.verifyLogin())return;let o=e.token+"-"+e.chain,s=t+i;if(s<0||s+1>this.favoritesList.length)return;let a=this.favoritesList[s],r=a.token+"-"+a.chain,l=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["ab"])(o,r,this.activeGroup).then(()=>{this.init(),this.$store.state.collectChange++,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{l.close()})},confirmSwitchGroup(e,t){if(this.$f.verifyLogin())if(this.activeGroup!==t){let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["ke"])(e.token+"-"+e.chain,t).then(()=>{this.getUserFavorites(),this.$store.state.collectChange++,this.selectGroup=this.activeGroup,e.token+"-"+e.chain==this.$store.state.id&&(this.$store.state.groupId=e.activeGroup),this.$store.dispatch("getUserFavorites"),this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})}else this.visible1=!1},addFavoriteGroup(e){if(!this.$f.verifyLogin())return;let t=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["e"])(e).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success")),this.visible2=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{t.close()})},removeFavoriteGroup(e){this.$f.verifyLogin()&&this.$confirm(this.$t("removeFavGroupTips"),this.$t("tips"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),dangerouslyUseHTMLString:!0,customClass:this.$store.state.mode}).then(()=>{let t=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["xe"])(e.group_id).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.getUserFavorites(),this.$store.state.collectChange++,this.$message.success(this.$t("success")),this.visible2=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{t.close()})}).catch(()=>{})},setTopFavoriteGroup(e,t){if(!this.$f.verifyLogin())return;if(0===t)return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["He"])(e.group_id).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success"))}).catch(()=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},changeIndexFavoriteGroup(e,t,i){if(!this.$f.verifyLogin())return;let o=e.group_id,s=t+i;if(s<0||s+1>this.groups.length)return;let a=this.groups[s],r=a.group_id,l=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["eb"])(o,r).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.visible3=!1,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{l.close()})},rename(e){this.$prompt("",this.$t("enterGroupName"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),inputValidator:e=>!((null===e||void 0===e?void 0:e.length)>20)||this.$t("maximum10characters")}).then(({value:t})=>{this.changeFavoriteGroupName(t,e.group_id)}).catch(()=>{})},changeFavoriteGroupName(e,t){if(!this.$f.verifyLogin())return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["Y"])(e,t).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},select(e){this.$router.replace({name:"FavoriteManage",params:{type:e.value,id:this.$route.params.id||"1"}})},handleEditRemark(e){let t=e.token+"-"+e.chain;this.$prompt("",this.$t("enterRemark"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),inputValidator:e=>!((null===e||void 0===e?void 0:e.length)>50)||this.$t("maximum10characters")}).then(({value:e})=>{this.confirmEditRemark(e,t)}).catch(()=>{})},confirmEditRemark(e,t){if(!this.$f.verifyLogin())return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(y["mb"])(t,e).then(()=>{this.getUserFavorites(),this.$store.dispatch("getUserFavorites"),this.$store.state.collectChange++,this.visible4=!1,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},handleScroll(){if(!this.scrollContainer)return;const{scrollTop:e,scrollHeight:t,clientHeight:i}=this.scrollContainer,o=t-e-i;o<100&&!this.loading&&!this.noMoreData&&(this.page++,this.getUserFavorites())},getScrollContainer(){this.scrollContainer=document.querySelector("#table_fav .el-scrollbar__wrap"),this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.scrollContainer.addEventListener("scroll",this.handleScroll))}}},D=(i("6866"),i("aa87"),i("6b0d")),C=i.n(D);const N=C()(E,[["render",k],["__scopeId","data-v-415fe002"]]);t["a"]=N},"4c62":function(e,t,i){"use strict";i("cbbf")},5139:function(e,t,i){},"5d5b":function(e,t,i){"use strict";i("5139")},6866:function(e,t,i){"use strict";i("191a")},7487:function(e,t,i){e.exports=i.p+"static/img/newAccount.52ae9f6d.svg"},"7b6d":function(e,t,i){e.exports=i.p+"static/img/amount.11d61a32.svg"},"7ff9":function(e,t,i){"use strict";var o=i("7a23");function s(e,t,i,s,a,r){var l,n;const c=Object(o["resolveComponent"])("TradingView");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"common k-line-chart-container",id:"k-line-chart-container",style:Object(o["normalizeStyle"])({height:r.height})},[null!==(l=e.$store.state.pair)&&void 0!==l&&l.value&&"-"!==(null===(n=e.$store.state.pair)||void 0===n?void 0:n.value)&&a.show?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,ref:"tradingView",pair:e.$store.state.pair},null,8,["pair"])):Object(o["createCommentVNode"])("",!0)],4)}function a(e,t,i,s,a,r){const l=Object(o["resolveComponent"])("loading"),n=Object(o["resolveComponent"])("unknown-risk"),c=Object(o["resolveComponent"])("dialog-remind");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(l,{style:{"z-index":"1"},active:a.loading,"onUpdate:active":t[0]||(t[0]=e=>a.loading=e),"can-cancel":!1,loader:"dots",opacity:1,backgroundColor:"light"===e.$store.state.mode?"#fff":a.bgColor,color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),t[2]||(t[2]=Object(o["createElementVNode"])("div",{id:"tv_chart_container",style:{height:"100%",width:"100%"}},null,-1)),Object(o["createVNode"])(n,{onInit:r.getKlineHistory},null,8,["onInit"]),Object(o["createVNode"])(c,{ref:"remind",modelValue:a.dialogVisible_remind,"onUpdate:modelValue":t[1]||(t[1]=e=>a.dialogVisible_remind=e)},null,8,["modelValue"])],64)}var r=i("fa6f"),l=i("6b0d"),n=i.n(l);const c=n()(r["a"],[["render",a]]);var d=c,u={name:"KLineChart",props:{kHeight:{type:Number,default:500}},data(){return{show:!0}},computed:{height(){return this.kHeight+"px"}},mounted(){},components:{TradingView:d},watch:{"$store.getters.language"(e){this.show=!1,this.$nextTick(()=>{this.show=!0})}},methods:{routeLeave(){this.$refs.tradingView.saveStudy()}}};i("89e4");const h=n()(u,[["render",s],["__scopeId","data-v-6dc5d720"]]);t["a"]=h},"81f9":function(e,t,i){"use strict";i("1b05")},"89e4":function(e,t,i){"use strict";i("0aab")},"8af5":function(e,t,i){"use strict";i("3c0e")},9621:function(e,t,i){e.exports=i.p+"static/img/clearedAccount.a07ffab8.svg"},"9dea":function(e,t,i){},aa0a:function(e,t,i){},aa87:function(e,t,i){"use strict";i("0035")},bdd2:function(e,t,i){"use strict";var o=i("7a23");const s={class:"profit"},a={class:"profit-container"},r={class:"right"},l={class:"label"},n={class:"value"},c={class:"profit-container"},d={class:"right"},u={class:"label"},h={key:0},_={class:"value"},m={class:"profit-container"},b={class:"right"},v={class:"label"},p={class:"value"},g={class:"profit-container"},f={class:"right"},O={class:"label"},k={class:""},j={class:"bottom"},$={class:"item up"},y={class:"label"},w={class:"value"},E={class:"label"},D={class:"value"},C={class:"item down"},N={class:"label"},S={class:"value"},M={class:"label"},B={class:"value"};function P(e,t,i,P,A,x){var L;const V=Object(o["resolveComponent"])("van-notice-bar");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[i.userAddress==e.$store.state.currentAccount?(Object(o["openBlock"])(),Object(o["createBlock"])(V,{key:0,class:"myTxs-notice","left-icon":"info-o",background:"light"===e.$store.state.mode?"#ffa94d0d":"rgba(117, 65, 29, 0.23)",color:"#ED6A0C"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("myTxsNotice")),1)]),_:1},8,["background"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$t("currentPosition")),1),Object(o["createElementVNode"])("span",n,Object(o["toDisplayString"])(e.$f.formatNumber2(A.balance)),1)])]),Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("span",u,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("tokenValue"))+" ",1),(null===(L=e.$store.state.tokenInfo)||void 0===L?void 0:L.sell_tax)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",h," (-"+Object(o["toDisplayString"])(e.$t("sellTax1"))+" "+Object(o["toDisplayString"])(e.$f.formatNumber2(e.$store.state.tokenInfo.sell_tax||0,2))+"%) ",1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",_,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(x.tokenValue)),1)])]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("span",v,Object(o["toDisplayString"])(e.$t("positionCostPrice")),1),Object(o["createElementVNode"])("span",p,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(x.avgBuyPrice)),1)])]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("span",O,Object(o["toDisplayString"])(e.$t("profit")),1),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("span",{class:"value",style:Object(o["normalizeStyle"])({color:x.profit>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})}," $"+Object(o["toDisplayString"])(e.$f.formatNumber2(x.profit)),5),t[0]||(t[0]=Object(o["createTextVNode"])("    ")),Object(o["createElementVNode"])("span",{class:"value",style:Object(o["normalizeStyle"])({color:x.profit>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(o["toDisplayString"])(e.$f.formatPercent(x.profitChange)),5)])])])]),Object(o["createElementVNode"])("div",{class:"holder-container",style:Object(o["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3],"--upBgColor":e.$store.getters.upColor[3]+"33","--downBgColor":e.$store.getters.downColor[3]+"33"})},[Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",$,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",y,Object(o["toDisplayString"])(e.$t("buyFrequency")),1),Object(o["createElementVNode"])("span",w,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalBuyFrequency)),1)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",E,Object(o["toDisplayString"])(e.$t("buyAmount"))+"($)",1),Object(o["createElementVNode"])("span",D,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalBuy)),1)])]),Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",N,Object(o["toDisplayString"])(e.$t("sellFrequency")),1),Object(o["createElementVNode"])("span",S,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalSellFrequency)),1)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",M,Object(o["toDisplayString"])(e.$t("sellAmount"))+"($)",1),Object(o["createElementVNode"])("span",B,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalSell)),1)])])])],4)],64)}i("13d5"),i("0643"),i("2382"),i("9d4a");var A=i("c9d9"),x=i("365c"),L=i("ca0f"),V={name:"TableMyTxs",emits:["changeLoadingHead"],props:{tableList:Array,userAddress:{type:String,default:""}},data(){return{Timer:null,balance:0}},computed:{tokenInfo(){return this.$store.state.tokenInfo},chain(){var e;return null===(e=this.tokenInfo)||void 0===e?void 0:e.chain},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(A["e"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},addressSplit(){return this.tokenInfo.address.replace(new RegExp("(.{4})(.+)(.{4})"),"$1...$3")},totalBuy(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e+this.getAmountUSD(t):e,0)},totalBuyAmount(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e+this.getAmount(t):e,0)},avgBuyPrice(){return this.totalBuyAmount>0?this.totalBuy/this.totalBuyAmount:0},totalSell(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e:e+this.getAmountUSD(t),0)},totalBuyFrequency(){return this.tableList.filter(e=>this.isBuy(e)).length||0},totalSellFrequency(){return this.tableList.filter(e=>!this.isBuy(e)).length||0},avgPrice(){return this.balance>0?(this.totalBuy-this.totalSell)/this.balance:0},tokenValue(){let e=(this.$store.state.tokenInfo.sell_tax||0)/100;return e=e>1?1:e,(this.$store.state.tokenPrice||0)*(this.balance||0)*(1-e)},profit(){return this.totalSell+this.tokenValue-this.totalBuy},profitChange(){return this.totalBuy>0?this.profit/this.totalBuy:0}},components:{"van-notice-bar":L["a"]},watch:{tableList:{handler:function(e){this.balance=0,(null===e||void 0===e?void 0:e.length)>0&&this.getTokenBalance()},deep:!0},userAddress:{handler:function(e){e&&(this.balance=0,this.getTokenBalance())},deep:!0}},created(){this.getTokenBalance()},methods:{isBuy(e){if(e.from_address&&e.from_address===this.tokenAddress)return!1;if(e.to_address&&e.to_address===this.tokenAddress)return!0;let t=e.amount0In>0?e.token0Address:e.token1Address;return t!==this.tokenAddress},getAmount(e){if(e.from_address&&e.from_address===this.tokenAddress)return e.from_amount;if(e.to_address&&e.to_address===this.tokenAddress)return e.to_amount;let t=0;return t=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,t},getPrice(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_price_usd);let t=0;return t=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(t)},getAmountUSD(e){return e.from_address&&e.from_address===this.tokenAddress?Number(e.from_amount)*Number(e.from_price_usd):e.to_address&&e.to_address===this.tokenAddress?Number(e.to_amount)*Number(e.to_price_usd):e.amountUSD},goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))},formatDecimal(e){if(Number(e)&&Number(e)<1e-4){let t=Math.ceil(Math.log10(.1/Number(e)));return`0.0{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return e},isShowRow(e){return(!this.$store.state.filterContent.minCondition||Number(this.getAmountUSD(e))>Number(this.$store.state.filterContent.min))&&(this.$store.state.filterContent.buy&&this.isBuy(e)||this.$store.state.filterContent.sell&&!this.isBuy(e))},highlight(e){return this.$store.state.filterContent.maxCondition&&Number(this.getAmountUSD(e))>=Number(this.$store.state.filterContent.max)},getTokenBalance(){var e,t;this.Timer&&clearTimeout(this.Timer),this.$emit("changeLoadingHead",!0),Object(x["qd"])(null===(e=this.tokenInfo)||void 0===e?void 0:e.address,null===(t=this.tokenInfo)||void 0===t?void 0:t.chain,this.userAddress,"whale").then(e=>{this.balance=e}).finally(()=>{this.$emit("changeLoadingHead",!1),this.userAddress==this.$store.state.currentAccount&&(this.Timer=setTimeout(()=>{this.getTokenBalance()},12e4))})}}},T=(i("8af5"),i("6b0d")),I=i.n(T);const U=I()(V,[["render",P],["__scopeId","data-v-2ebd2fea"]]);t["a"]=U},c000:function(e,t,i){},c3ff:function(e,t,i){"use strict";var o=i("7a23");const s={class:"dialog_title"},a={class:"group"},r={key:1,class:"icon unchecked"},l=["onClick"],n={href:"",class:"flex-between"},c={key:1,class:"icon unchecked"},d={style:{width:"100%"}};function u(e,t,i,u,h,_){const m=Object(o["resolveComponent"])("CircleCheckFilled"),b=Object(o["resolveComponent"])("el-icon"),v=Object(o["resolveComponent"])("el-button"),p=Object(o["resolveComponent"])("el-form-item"),g=Object(o["resolveComponent"])("el-input"),f=Object(o["resolveComponent"])("el-form"),O=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(O,{class:Object(o["normalizeClass"])(["dialog-zixuan fav",e.$store.state.mode]),modelValue:_.show,"onUpdate:modelValue":t[3]||(t[3]=e=>_.show=e),width:"400px","append-to-body":""},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",s,Object(o["toDisplayString"])(i.title),1)]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(f,{ref:"formRef",rules:h.rules,model:h.form,"label-width":"auto",onSubmit:Object(o["withModifiers"])(_.select,["prevent"])},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p,{label:""},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("ul",a,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"",class:"flex-between",onClick:t[0]||(t[0]=Object(o["withModifiers"])(e=>h.checked=0,["stop","prevent"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("defaultGroup")),1),0==h.checked?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,class:"icon checked"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m)]),_:1})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",r))])]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.groups,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t,onClick:Object(o["withModifiers"])(t=>h.checked=e.group_id,["stop","prevent"])},[Object(o["createElementVNode"])("a",n,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.name),1),h.checked==e.group_id?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,class:"icon checked"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m)]),_:1})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",c))])],8,l))),128))]),Object(o["createVNode"])(v,{class:"icon-add-btn",onClick:t[1]||(t[1]=Object(o["withModifiers"])(t=>e.confirmChangeName("add"),["stop"]))},{default:Object(o["withCtx"])(()=>[t[4]||(t[4]=Object(o["createElementVNode"])("i",{class:"iconfont icon-plus"},null,-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("newGroup")),1)]),_:1})]),_:1}),i.isRemark?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,label:"",prop:"remark"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g,{modelValue:h.form.remark,"onUpdate:modelValue":t[2]||(t[2]=e=>h.form.remark=e),modelModifiers:{trim:!0},placeholder:e.$t("enterRemark"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(p,null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(v,{style:{},class:"btn",type:"primary",loading:h.loading,"native-type":"submit"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]),_:1},8,["loading"])])]),_:1})]),_:1},8,["rules","model","onSubmit"])]),_:1},8,["modelValue","class"])}i("0643"),i("fffc");var h=i("365c"),_={name:"ChangeGroup",props:{visible:Boolean,title:{type:String,default:""},type:{type:String,default:"1"},isRemark:{type:Boolean,default:!1},selected:{type:[String,Number],default:0},groups:{type:Array,default(){return[]}}},components:{},emits:["update:visible","update:selected","select"],data(){return{checked:this.initSelected,visible1:!1,loading:!1,form:{remark:""},rules:{remark:[{max:50,message:this.$t("maximum10characters"),trigger:"blur"}]},createNewGroupName:""}},computed:{show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},initSelected:{get(){return this.selected},set(e){this.$emit("update:selected",e)}}},watch:{show(e){e&&(this.checked=this.initSelected)},"$store.state.userFavoriteGroups"(e){if(e&&this.createNewGroupName){let t=null===e||void 0===e?void 0:e.find(e=>e.name==this.createNewGroupName);t&&(this.checked=t.group_id)}}},methods:{select(){this.isRemark?this.$refs.formRef.validate(e=>{e&&this.$emit("select",this.checked,this.form.remark)}):this.$emit("select",this.checked)},addFavoriteGroup(e){"1"===this.type?this.addTokenFavoriteGroup(e):"2"===this.type&&this.addNftFavoriteGroup(e)},addTokenFavoriteGroup(e){this.$f.verifyLogin()&&(this.loading=!0,Object(h["e"])(e).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success")),this.visible1=!1,this.createNewGroupName=e}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{this.loading=!1}))},addNftFavoriteGroup(e){this.$f.verifyLogin()&&(this.loading=!0,Object(h["i"])(e).then(()=>{this.$store.dispatch("getUserNftFavoriteGroups"),this.$message.success(this.$t("success")),this.visible1=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{this.loading=!1}))}}},m=(i("81f9"),i("4c62"),i("6b0d")),b=i.n(m);const v=b()(_,[["render",u],["__scopeId","data-v-43b18417"]]);t["a"]=v},c3ff8:function(e,t,i){e.exports=i.p+"static/img/top1.17aec824.svg"},cb46:function(e,t,i){e.exports=i.p+"static/img/big.0a7445bb.svg"},cbbf:function(e,t,i){},dce0:function(e,t,i){e.exports=i.p+"static/img/aveai-logo.88c5aab8.svg"},de6d:function(e,t,i){e.exports=i.p+"static/img/top3.8c270ffc.svg"},e17f:function(e,t,i){"use strict";var o=i("7a23");const s={class:"dialog_title"},a={class:"flex-between address"},r=["href"],l={class:"iconfont icon-copy ml_10"};function n(e,t,i,n,c,d){const u=Object(o["resolveComponent"])("UserTxs"),h=Object(o["resolveComponent"])("el-dialog"),_=Object(o["resolveDirective"])("copy");return Object(o["openBlock"])(),Object(o["createBlock"])(h,{modelValue:d.dialogPofitLoss,"onUpdate:modelValue":t[2]||(t[2]=e=>d.dialogPofitLoss=e),width:"800px",class:"dialog"},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",s,Object(o["toDisplayString"])(e.$t("transactionsDetails")),1)]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("span",null,[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(d.chain,c.userAddress,"address"),target:"_blank"},Object(o["toDisplayString"])(c.userAddress.slice(0,6)+"..."+c.userAddress.slice(-6)),9,r),Object(o["withDirectives"])(Object(o["createElementVNode"])("i",l,null,512),[[_,c.userAddress]])]),1==c.fav?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:0,class:"attention iconfont icon-attention active",onClick:t[0]||(t[0]=Object(o["withModifiers"])(e=>d.deleteAttention(c.userAddress,d.chain),["stop"]))})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:1,class:"attention iconfont icon-attention",onClick:t[1]||(t[1]=Object(o["withModifiers"])(e=>d.addAttention(c.userAddress,d.chain),["stop"]))}))]),Object(o["createVNode"])(u,{tableList:d.myTxHistoryList,userAddress:c.userAddress,loadingMyTx:c.loadingMyTx},null,8,["tableList","userAddress","loadingMyTx"])]),_:1},8,["modelValue"])}i("a573");const c={class:"histrory"},d={class:"top"},u={key:0,class:"content"},h=["onClick"],_={key:0},m={key:1},b=["innerHTML"],v={key:0,style:{color:"#558bed"}};function p(e,t,i,s,a,r){const l=Object(o["resolveComponent"])("loading"),n=Object(o["resolveComponent"])("user-txs-head"),p=Object(o["resolveComponent"])("el-empty"),g=Object(o["resolveComponent"])("el-scrollbar");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createVNode"])(l,{active:r.loading,"onUpdate:active":t[0]||(t[0]=e=>r.loading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(o["createVNode"])(n,{tableList:i.tableList,userAddress:i.userAddress,onChangeLoadingHead:r.changeLoadingHead},null,8,["tableList","userAddress","onChangeLoadingHead"]),Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("time")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("type")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("price"))+"($)",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("amountB"))+"("+Object(o["toDisplayString"])(r.tokenInfo.symbol)+")",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("amountU"))+"($)",1),t[1]||(t[1]=Object(o["createElementVNode"])("span",null,"Tx",-1))]),Object(o["createVNode"])(g,{height:i.scrollHeight,ref:"elscrollbar"},{default:Object(o["withCtx"])(()=>{var t;return[i.tableList.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",u,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.tableList,(t,i)=>{var s,a;return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"flex",key:i,onClick:Object(o["withModifiers"])(e=>r.goLink(t),["stop"])},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatDate(t.timestamp)),1),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({green:r.isBuy(t),red:!r.isBuy(t)})},[r.isBuy(t)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",_,Object(o["toDisplayString"])(e.$t("buy")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",m,Object(o["toDisplayString"])(e.$t("sell")),1))],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({green:r.isBuy(t),red:!r.isBuy(t)}),innerHTML:e.$f.formatNumber3(r.getPrice(t)||0)},null,10,b),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({green:r.isBuy(t),red:!r.isBuy(t)})},Object(o["toDisplayString"])(e.$f.formatNumber2(r.getAmount(t))),3),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(r.getAmountUSD(t))),1),Object(o["createElementVNode"])("span",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(null===(s=t.transactionAddress)||void 0===s?void 0:s.slice(0,2))+"..."+Object(o["toDisplayString"])(null===(a=t.transactionAddress)||void 0===a?void 0:a.slice(-4))+" ",1),t.count&&t.count>1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",v,"("+Object(o["toDisplayString"])(t.count)+")",1)):Object(o["createCommentVNode"])("",!0)])],8,h)}),128))])):Object(o["createCommentVNode"])("",!0),i.tableList&&0!==(null===(t=i.tableList)||void 0===t?void 0:t.length)?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1,"image-size":100,image:"light"===e.$store.state.mode?a.imageEmptyWhite:a.imageEmptyBlack},null,8,["image"]))]}),_:1},8,["height"])])}var g=i("c9d9"),f=i("fa7d"),O=i("fab6"),k=i.n(O),j=i("b28f"),$=i.n(j),y=i("bdd2"),w={name:"UserTxs",props:{tableList:Array,userAddress:{type:String,default:""},scrollHeight:{type:String,default:"350px"},loadingMyTx:Boolean},data(){return{imageEmptyBlack:k.a,imageEmptyWhite:$.a,count:0,Timer:null,from_num:0,loadingHead:""!=this.userAddress}},computed:{tokenInfo(){return this.$store.state.tokenInfo||Object(f["j"])()},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(g["e"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},loading(){return this.loadingHead||this.loadingMyTx}},components:{UserTxsHead:y["a"]},methods:{isBuy(e){var t,i,o,s,a,r,l,n;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o)))return!1;if(e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n)))return!0;let c=e.amount0In>0?e.token0Address:e.token1Address;return c!==this.tokenAddress},getAmount(e){var t,i,o,s,a,r,l,n;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o)))return this.$f.formatNumber(e.from_amount);if(e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n)))return this.$f.formatNumber(e.to_amount);let c=0;return c=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,this.$f.formatNumber(c)},getPrice(e){var t,i,o,s,a,r,l,n;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o)))return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n)))return this.$f.formatNumber(e.to_price_usd);let c=0;return c=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(c)},getAmountUSD(e){var t,i,o,s,a,r,l,n;return e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o))?this.$f.formatNumber(Number(e.from_amount)*Number(e.from_price_usd)):e.to_address&&(null===(a=this.tokenAddress)||void 0===a||null===(r=a.toLowerCase)||void 0===r?void 0:r.call(a))===(null===(l=(n=e.to_address).toLowerCase)||void 0===l?void 0:l.call(n))?this.$f.formatNumber(Number(e.to_amount)*Number(e.to_price_usd)):this.$f.formatNumber(e.amountUSD)},goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))},formatDecimal(e){if(Number(e)&&Number(e)<1e-4){let t=Math.ceil(Math.log10(.1/Number(e)));return`0.0{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return e},changeLoadingHead(e){this.loadingHead=e}}},E=(i("09aa"),i("6b0d")),D=i.n(E);const C=D()(w,[["render",p],["__scopeId","data-v-5eb12a58"]]);var N=C,S=i("365c"),M={name:"",props:{visible:{type:Boolean,default:!1}},emits:["addAttention","deleteAttention"],data(){return{myTxs:[],loadingMyTx:!1,userAddress:"",fav:0}},computed:{dialogPofitLoss:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},myTxHistoryList(){return this.myTxs},tokenInfo(){return this.$store.state.tokenInfo},chain(){var e;return null===(e=this.tokenInfo)||void 0===e?void 0:e.chain}},components:{UserTxs:N},methods:{getUserTxs(e,t){this.myTxs=[],this.userAddress=e,this.fav=t,this.loadingMyTx=!0,Object(S["Wd"])(this.$store.state.id,e).then(e=>{this.myTxs=e.map(e=>({...e,timestamp:Number(e.time)||0,network:e.chain||"bsc",transactionAddress:e.transaction,walletAddress:e.wallet_address}))}).finally(()=>{this.loadingMyTx=!1})},addAttention(e,t){this.$emit("addAttention",e,t),this.fav=!0},deleteAttention(e,t){this.$emit("deleteAttention",e,t),this.fav=!1}}};i("5d5b");const B=D()(M,[["render",n],["__scopeId","data-v-a4b2356a"]]);t["a"]=B},e524:function(e,t,i){e.exports=i.p+"static/img/arrow-right.484eb652.svg"},f6d9:function(e,t,i){e.exports=i.p+"static/img/aveai-logg-w.4cb6a04d.svg"},f99f:function(e,t,i){e.exports=i.p+"static/img/top2.a8d8fb55.svg"},fa6f:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("71b4"),core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("13d5"),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("0541"),core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("0643"),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("76d6"),core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("2382"),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("fffc"),core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4e3e"),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a573"),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("9d4a"),core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10__),_utils_constants_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("c9d9"),_api_index_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("365c"),good_storage__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("335a"),_components_unknownRisk__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("0563"),_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("75a0"),bignumber_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("901e"),bignumber_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_16__),lodash__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_17__);function sleep(e){return new Promise(t=>setTimeout(t,e))}let time=0;async function getWidget(){var e,t;return null!==(e=window)&&void 0!==e&&null!==(e=e.TradingView)&&void 0!==e&&e.widget?null===(t=window)||void 0===t||null===(t=t.TradingView)||void 0===t?void 0:t.widget:time>10?null:(await sleep(1e3),time++,getWidget())}function switchResolution(e){var t,i;const o={"1D":"1440","1W":"10080"};let s=o[e]||e;var a,r;null!==(t=s)&&void 0!==t&&null!==(i=t.endsWith)&&void 0!==i&&i.call(t,"S")?s=null===(a=s)||void 0===a||null===(r=a.slice)||void 0===r?void 0:r.call(a,0,-1):s*=60;return s}const supportSecChains=["solana","bsc","eth","base","tron"],resolutionMap={"1D":"1440","1W":"10080","1S":"s1","5S":"s5","15S":"s15","30S":"s30"};__webpack_exports__["a"]={name:"TradingView",components:{UnknownRisk:_components_unknownRisk__WEBPACK_IMPORTED_MODULE_14__["a"],DialogRemind:_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_15__["a"]},data(){return{dialogVisible_remind:!1,widget:null,symbolInfo:null,datafeed:{onReady:this.onReady,resolveSymbol:this.resolveSymbol,getBars:this.getBars,subscribeBars:this.subscribeBars,unsubscribeBars:this.unsubscribeBars,getMarks:this.getMarks},onRealtimeCallback:null,onResetCacheNeededCallback:null,resolution:localStorage.getItem("resolution")||"15",oldResolution:localStorage.getItem("resolution")||"15",chartData:[],initLoading:!1,loading:!0,loadingChange:!1,setMarks:null,showSwapKline:eval(localStorage.getItem("showSwapKline")||!0),showSwapKlineButton:null,showMarket:eval(localStorage.getItem("showMarket")||!1),bgColor:"#0A0B0D",kline_dot_show_obj:good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].get("kline_dot_show_obj")||{trade:!0,16:!1,19:!1,25:!0,30:!1,31:!0},statisticsNumList:[],initChartData:[],kline_marks:good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].get("kline_marks")||{},hlineId:"",isReady:!1,dataTime:0,lastKline:null,onHistoryCallback:null,isResetKline:!1,migrated:{},migratedHLineId:""}},computed:{arr_dot(){var e;let t=[{id:"trade",name:this.$t("mine")}],i=[];var o,s;(null===(e=this.statisticsNumList)||void 0===e?void 0:e.length)>0&&(null===(o=this.statisticsNumList)||void 0===o||o.forEach(e=>{(null===e||void 0===e?void 0:e.total_address)>0&&i.push({id:e.type,name:(null===e||void 0===e?void 0:e[this.$f.filterLanguage(this.$store.getters.language)])+`(${null===e||void 0===e?void 0:e.total_address})`})}),t=null===(s=t)||void 0===s?void 0:s.concat(i));return t},klineParams(){return this.$store.state.wsKlineParams},myTxHistoryList(){return this.$store.state.myTxHistoryList},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(_utils_constants_js__WEBPACK_IMPORTED_MODULE_11__["e"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},tokenInfo(){return this.$store.state.tokenInfo},circulation(){var e,t,i,o;let s=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(null===(e=this.tokenInfo)||void 0===e?void 0:e.total).minus(null===(t=this.tokenInfo)||void 0===t?void 0:t.lock_amount_dec).minus(null===(i=this.tokenInfo)||void 0===i?void 0:i.other_amount_dec).minus(null===(o=this.tokenInfo)||void 0===o?void 0:o.burn_amount_dec);return s.lt(0)?0:s},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD},circulationValue(){return this.circulation*Number(this.currentPrice||0)||0},marketCap(){var e,t,i;return(null===(e=this.tokenInfo)||void 0===e?void 0:e.lock_amount_dec)+(null===(t=this.tokenInfo)||void 0===t?void 0:t.other_amount_dec)+(null===(i=this.tokenInfo)||void 0===i?void 0:i.burn_amount_dec)>0?this.$f.formatNumber2(this.circulationValue||0,2,4,1e4):this.$f.formatNumber2(this.$store.state.marketCap||this.circulationValue||this.$store.getters.initMarketCap||0,2,4,1e4)},currentAccount(){return this.$store.state.currentAccount||this.$store.getters.botWallet||""}},watch:{"$store.state.id"(e){e&&this.getTotalholders()},"$store.state.ws.isConnected"(e){e&&this.subscribeKline()},"pair.value"(e){if(e&&"-"!==e&&!this.loading){var t,i,o,s;this.loadingChange=!0;let a=null===(t=this.$store.state)||void 0===t||null===(t=t.pair)||void 0===t?void 0:t.chain,r=a&&supportSecChains.includes(a);r||"1S"!==this.resolution||(this.resolution="15",localStorage.setItem("resolution","15")),null===(i=this.onResetCacheNeededCallback)||void 0===i||i.call(this),null===(o=this.widget)||void 0===o||null===(s=o.setSymbol)||void 0===s||s.call(o,this.pair.symbol+"---"+e,this.resolution,()=>{this.loadingChange=!1,this.hlineId="",this.createPositionPriceLine(),this.createMigratePriceLine()}),this.saveStudy()}},"$store.state.documentVisible"(e){e&&this.resetKline()},"$store.state.ws.klineData"(e){var t,i;if(e.key!==(resolutionMap[this.resolution]||this.resolution)||this.loadingChange||this.$store.state.pair.address!==e.pairAddress)return;let o=e.value;o.change&&this.$store.commit("setTokenInfoPriceChange",o.change);const s={};o.volume_24h&&(s.volume_24=o.volume_24h),o.amount_24h&&(s.amount_24=o.amount_24h),o.count_24h&&(s.exchangeTime_24=o.count_24h),Object.keys(s).length>0&&this.$store.commit("setTokenInfo",{...this.$store.state.tokenInfo,...s}),o.high_24h&&this.$store.commit("setState",{name:"highestPrice24",value:o.high_24h}),o.low_24h&&this.$store.commit("setState",{name:"lowestPrice24",value:o.low_24h});let a={time:Number(1e3*o.time),open:Number(o.open),high:Number(o.high),low:Number(o.low),close:Number(o.close),volume:Number(o.volume)};var r,l,n,c;this.showMarket&&(a={time:Number(1e3*o.time),open:(null===(r=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(o.open).times(this.circulation))||void 0===r?void 0:r.toString())/1e3,high:(null===(l=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(o.high).times(this.circulation))||void 0===l?void 0:l.toString())/1e3,low:(null===(n=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(o.low).times(this.circulation))||void 0===n?void 0:n.toString())/1e3,close:(null===(c=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(o.close).times(this.circulation))||void 0===c?void 0:c.toString())/1e3,volume:Number(o.volume)});const d=this.chartData.length-1,u=this.chartData[d]||{};var h;(a=this.$f.formatKlineLast(a,u),this.$store.state.documentVisible)&&(a.time>=((null===u||void 0===u?void 0:u.time)||0)&&(this.lastKline={...a}),null===this||void 0===this||null===(h=this.onRealtimeCallback)||void 0===h||h.call(this,a));if(a.time>((null===u||void 0===u?void 0:u.time)||0))this.chartData.push(a);else if((null===u||void 0===u?void 0:u.time)===a.time)this.chartData[d]=a;else{const e=this.chartData.findLastIndex(e=>e.time===a.time);-1!==e&&this.chartData[e].volume<=a.volume&&(this.chartData[e]=a)}let _=(null===(t=this.chartData)||void 0===t||null===(t=t[this.chartData.length-1])||void 0===t?void 0:t.close)||0;_>0&&o.close>0&&this.$store.state.pair.address===e.pairAddress&&(this.$store.commit("setTokenInfoPrice",o.close),o.close>this.$store.state.highestPrice24&&this.$store.commit("setState",{name:"highestPrice24",value:o.close}),o.close<this.$store.state.lowestPrice24&&this.$store.commit("setState",{name:"lowestPrice24",value:o.close})),(null===(i=this.chartData)||void 0===i?void 0:i.length)>900&&this.chartData.splice(0,this.chartData.length-900)},currentAccount:{handler:async function(e){if(e){if(this.kline_dot_show_obj["trade"]=!0,this.kline_dot_show_obj["trade"]){let e=await this.dealOtherMarkData(this.resolution,"trade",this.$t("mine"));this.kline_marks["trade"]=e,good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_marks",this.kline_marks),this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}}else{var t,i,o,s,a;if(this.kline_dot_show_obj["trade"]=!1,good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),this.kline_marks["trade"]&&delete this.kline_marks["trade"],good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_marks",this.kline_marks),null!==(t=this.widget)&&void 0!==t&&t.activeChart)null===(i=this.widget)||void 0===i||null===(o=i.activeChart)||void 0===o||null===(s=(a=o.call(i)).clearMarks)||void 0===s||s.call(a);this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}},deep:!0},"$store.state.mode"(){"Token"!=this.$route.name&&"Brc"!=this.$route.name||(this.loading=!0,this.createWidget())},"$store.state.ws.tx":{handler:async function(e){var t,i,o;let s=null===(t=this.$store.state)||void 0===t||null===(t=t.bot)||void 0===t||null===(t=t.userInfo)||void 0===t||null===(t=t.addresses)||void 0===t||null===(i=t.find)||void 0===i||null===(i=i.call(t,t=>(null===t||void 0===t?void 0:t.chain)===(null===e||void 0===e?void 0:e.chain)))||void 0===i?void 0:i.address,a=this.$store.state.currentAccount||s,r=this.$store.state.tokenInfo.address,l=r===(null===e||void 0===e?void 0:e.from_address)||r===(null===e||void 0===e?void 0:e.to_address);if(e&&l&&(null===(o=e.wallet_address)||void 0===o?void 0:o.toLowerCase())===(null===a||void 0===a?void 0:a.toLowerCase())){let t=this.isBuy(e)?"buy":"sell",i={time:e.time};if(i[t]={volume:this.getAmountUSD(e),amount:this.getAmount(e),txns:1},this.kline_dot_show_obj["trade"]){let e=await this.dealOtherMarkData(this.resolution,"trade",this.$t("mine"),i);this.kline_marks["trade"]=e,good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_marks",this.kline_marks),this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}}},deep:!0},"$store.state.bot.allChainsBalances"(e){var t;(null===e||void 0===e?void 0:e.length)>0&&this.isReady&&this.widget&&null!==(t=this.widget)&&void 0!==t&&t.activeChart&&this.createPositionPriceLine()}},props:{pair:{type:Object}},created(){this.init()},methods:{init(){this.loading=!0,this.pair.value&&"-"!==this.pair.value&&this.$store.state.pair.value==this.pair.value?this.getKlineHistory().then(async()=>{}).finally(()=>{this.createWidget()}):this.createWidget(),this.kline_marks={},localStorage.removeItem("kline_marks"),localStorage.removeItem("kline_marks_my"),this.getTotalholders()},resetKline(){var e,t,i,o;this.isResetKline=!0,null===(e=this.onResetCacheNeededCallback)||void 0===e||e.call(this),null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||null===(i=i.call(t))||void 0===i||null===(o=i.resetData)||void 0===o||o.call(i)},renderKline:Object(lodash__WEBPACK_IMPORTED_MODULE_17__["throttle"])((function(){this.chartData.forEach((e,t)=>{var i;if(e.time>(null===(i=this.lastKline)||void 0===i?void 0:i.time)){var o;let i=null===(o=this.chartData)||void 0===o?void 0:o[t-1],s=i?this.$f.formatKlineLast(e,i):{...e};null!==i&&void 0!==i&&i.close&&(null===i||void 0===i?void 0:i.close)!==(null===s||void 0===s?void 0:s.open)&&(s.open=null===i||void 0===i?void 0:i.close),this.onRealtimeCallback&&!this.loadingChange&&this.onRealtimeCallback(s)}})}),500,{leading:!1,trailing:!0}),getTotalholders(){var e;let{chain:t}=this.$f.getAddressAndChainFromId(this.$route.params.id),i=null===(e=this.$store.state.ave_globalConfig)||void 0===e?void 0:e.chains_support_data_analysis_insider_sniper_V3,o=(null===i||void 0===i?void 0:i[t])||{};void 0!==o&&Object(_api_index_js__WEBPACK_IMPORTED_MODULE_12__["Fd"])({token_id:this.$store.state.id}).then(e=>{this.statisticsNumList=Array.isArray(e)?null===e||void 0===e?void 0:e.filter(e=>{var t;return null===(t=["16","19","25","30","31"])||void 0===t?void 0:t.includes(e.type)}):[],this.$store.state.statisticsNumList=Array.isArray(e)?e:[]}).catch(e=>{this.statisticsNumList=[],this.$store.state.statisticsNumList=[]}).finally(()=>{})},isBuy(e){if(e.from_address&&e.from_address===this.tokenAddress)return!1;if(e.to_address&&e.to_address===this.tokenAddress)return!0;let t=e.amount0In>0?e.token0Address:e.token1Address;return t!==this.tokenAddress},getPrice(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_price_usd);let t=0;return t=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(t)},getAmount(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_amount);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_amount);let t=0;return t=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,this.$f.formatNumber(t)},getAmountUSD(e){return e.from_address&&e.from_address===this.tokenAddress?this.$f.formatNumber(Number(e.from_amount)*Number(e.from_price_usd)):e.to_address&&e.to_address===this.tokenAddress?this.$f.formatNumber(Number(e.to_amount)*Number(e.to_price_usd)):this.$f.formatNumber(e.amountUSD)},async createWidget(){var e,t,i;const o="100%",s="100%",a="tv_chart_container",r=await getWidget();let l=null===(e=this.$store.state)||void 0===e||null===(e=e.pair)||void 0===e?void 0:e.chain,n=l&&supportSecChains.includes(l);if(localStorage["tradingview.IntervalWidget.quicks"]&&localStorage.tradingViewIntervalSet){let e=JSON.parse(localStorage["tradingview.IntervalWidget.quicks"]);var c,d;if(!n&&["1S","5S","15S","30S"].some(t=>{var i;return null===(i=e)||void 0===i?void 0:i.includes(t)}))e=(null===(c=e)||void 0===c||null===(d=c.filter)||void 0===d?void 0:d.call(c,e=>!(null!==e&&void 0!==e&&e.endsWith("S"))))||[],localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(e);else if(n&&"solana"==l){var u,h;if(!e.includes("1S")||["5S","15S","30S"].some(t=>{var i;return null===(i=e)||void 0===i?void 0:i.includes(t)}))e=(null===(u=e)||void 0===u||null===(h=u.filter)||void 0===h?void 0:h.call(u,e=>!(null!==e&&void 0!==e&&e.endsWith("S"))))||[],e=["1S"].concat(e);localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(e)}else{var _,m;if(n&&["1S","5S","15S","30S"].some(t=>{var i;return!(null!==(i=e)&&void 0!==i&&i.includes(t))})&&"solana"!==l)e=(null===(_=e)||void 0===_||null===(m=_.filter)||void 0===m?void 0:m.call(_,e=>!(null!==e&&void 0!==e&&e.endsWith("S"))))||[],e=["1S","5S","15S","30S"].concat(e),localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(e)}e.includes(this.resolution)||(this.resolution="15",localStorage.setItem("resolution","15"))}else{let e=n?"solana"==l?["1S","15","5","1","60","240","1D","1W"]:["1S","5S","15S","30S","15","5","1","60","240","1D","1W"]:["1","5","15","60","240","1D","1W"];localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(e),localStorage.tradingViewIntervalSet="true"}if(this.widget=new r({symbol:(null===(t=this.pair)||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.replace("<","＜"))||" ",width:o,height:s,interval:this.resolution,theme:"light"===this.$store.state.mode?"Light":"Dark",container:a,datafeed:this.datafeed,library_path:this.$store.state.s3BaseUrl+"charting_library/",custom_css_url:"night-3.css",locale:this.formatLang(this.$store.getters.language),disabled_features:["header_symbol_search","header_fullscreen_button","header_screenshot","header_compare","volume_force_overlay","header_undo_redo","header_settings","header_saveload","timeframes_toolbar"],enabled_features:[...n?["seconds_resolution"]:[]],charts_storage_url:location.host,charts_storage_api_version:"2.0",timezone:this.$f.getTimezone(),time_frames:[],overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","paneProperties.backgroundType":"solid","paneProperties.background":"light"===this.$store.state.mode?"#fff":this.bgColor,"paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"}}),localStorage["tradingview.chartproperties"]){let e=JSON.parse(localStorage["tradingview.chartproperties"]);e.paneProperties.background="light"===this.$store.state.mode?"#fff":this.bgColor,e.paneProperties.backgroundType="solid",localStorage["tradingview.chartproperties"]=JSON.stringify(e)}this.widget.onChartReady(()=>{var e,t;document.getElementById(a).childNodes[0].setAttribute("style",`visibility:visible;;width:${o};height:${s};`),this.saveStudy(),"light"===this.$store.state.mode&&this.widget.applyOverrides({"scalesProperties.textColor":"#333"}),this.loading=!1,null===(e=this.widget)||void 0===e||null===(t=e.activeChart)||void 0===t||null===(t=t.call(e))||void 0===t||t.onIntervalChanged().subscribe(null,e=>{var t;this.resolution!==e&&(this.oldResolution=this.resolution,this.resolution=e,localStorage.setItem("resolution",e),null===(t=this.onResetCacheNeededCallback)||void 0===t||t.call(this))}),this.hlineId="",this.migratedHLineId="",this.createStudy()}),null===(i=this.widget)||void 0===i||i.headerReady().then(()=>{var e,t,i,o;let s=null===(e=this.widget)||void 0===e?void 0:e.createButton();s&&(s.innerHTML=this.showMarket?'<span style="font-size: 12px;cursor: pointer;">Price / <span style="color:#286DFF">MCap</span></span>':'<span style="font-size: 12px;cursor: pointer;"><span style="color:#286DFF">Price</span> / MCap</span>',s.onclick=()=>{this.showMarket=!this.showMarket,localStorage.setItem("showMarket",this.showMarket),s.innerHTML=this.showMarket?'<span style="font-size: 12px;cursor: pointer;">Price / <span style="color:#286DFF">MCap</span></span>':'<span style="font-size: 12px;cursor: pointer;"><span style="color:#286DFF">Price</span> / MCap</span>',this.createWidget()});let a=null===(t=this.widget)||void 0===t?void 0:t.createButton(),r=null===(i=this.widget)||void 0===i?void 0:i.createButton();this.arr_dot.forEach(e=>{"trade"==e.id?(a&&(a.innerHTML=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center;" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center;">${e.name}</span>`),a.onclick=async()=>{let t=e.id,i=e.name;if(1==this.kline_dot_show_obj[t])this.kline_dot_show_obj[t]=!1,this.kline_marks[t]&&delete this.kline_marks[t];else{this.kline_dot_show_obj[t]=!0;let e=await this.dealOtherMarkData(this.resolution,t,i);this.kline_marks[t]=e}good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_marks",this.kline_marks),a.innerHTML=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center;" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center;">${e.name}</span>`,this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}):r&&(r.innerHTML+=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center; margin-right: 10px" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center; margin-right: 10px">${e.name}</span>`)}),r.onclick=async e=>{var t;let i=null===(t=e.target.classList)||void 0===t?void 0:t.value,o=e.target.innerHTML;if(1==this.kline_dot_show_obj[i])this.kline_dot_show_obj[i]=!1,this.kline_marks[i]&&delete this.kline_marks[i];else{this.kline_dot_show_obj[i]=!0;let e=await this.dealOtherMarkData(this.resolution,i,o);this.kline_marks[i]=e}good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_marks",this.kline_marks),1==this.kline_dot_show_obj[i]?e.target.style.color="#286DFF":e.target.style.color="#d1d4dc",this.setMarks&&this.setMarksData(this.resolution,this.setMarks)};let l=null===(o=this.widget)||void 0===o?void 0:o.createButton({align:"right"});l.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px 7px 0;border-radius: 6px;" onMouseOver="this.style.background=\'none\'"  onMouseLeave="this.style.background=\'none\'"><img width="18" height="18" src="https://ave.s3.ap-east-1.amazonaws.com/im/alert.png" /></div>',l.onclick=()=>{this.dialogVisible_remind=!0,this.$refs.remind.init()}})},onReady(e){var t;let i=null===(t=this.$store.state)||void 0===t||null===(t=t.pair)||void 0===t?void 0:t.chain,o=i&&supportSecChains.includes(i),s={supported_resolutions:["1S","5S","15S","30S","1","5","15","30","60","120","240","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};o||(s.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"]),setTimeout(()=>e(s))},resolveSymbol(e,t,i){try{var o,s,a,r,l,n,c;let i=null===(o=this.$store.state)||void 0===o||null===(o=o.pair)||void 0===o?void 0:o.chain,d=i&&supportSecChains.includes(i),u={name:null===e||void 0===e||null===(s=e.toLocaleUpperCase)||void 0===s?void 0:s.call(e),ticker:null===e||void 0===e||null===(a=e.toLocaleUpperCase)||void 0===a?void 0:a.call(e),description:(null===e||void 0===e||null===(r=e.toLocaleUpperCase)||void 0===r||null===(r=r.call(e))||void 0===r||null===(l=r.split)||void 0===l||null===(l=l.call(r,"---"))||void 0===l?void 0:l[0])||"",exchange:"Ave.ai",timezone:this.$f.getTimezone(),format:10,minmov:1,minmov2:0,pricescale:(null===(n=this.pair)||void 0===n?void 0:n.price)>0?10**this.$f.formatDecimals(null===(c=this.pair)||void 0===c?void 0:c.price).precision:1e7,volume_precision:10,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_seconds:d,seconds_multipliers:["1","5","15","30"],has_daily:!0,has_weekly_and_monthly:!0,monthly_multipliers:["1","6","12","24"],supported_resolutions:["1S","5S","15S","30S","1","5","15","30","60","120","240","1D","1W"],data_status:"streaming",visible_plots_set:"ohlcv"};d||(u.supported_resolutions=["1","5","15","30","60","120","240","1D","1W"],u.seconds_multipliers=[]),setTimeout(()=>t(u),0)}catch(d){i(d)}},async getMarks(e,t,i,o,s){this.setMarksData(s,o),this.setMarks=o},async setMarksData(e,t){var i,o,s;let a=[];for(let h in this.kline_marks)Object.hasOwn(this.kline_marks,h)&&(a=a.concat(this.kline_marks[h]));if(a=null===(i=a)||void 0===i?void 0:i.map((e,t)=>({...e,id:t})),null!==(o=this.migrated)&&void 0!==o&&o.time){var r;let e=localStorage.getItem("ave_globalConfig"),t="https://www.iconaves.com/";try{var l;if(e)t=null===(l=JSON.parse(e))||void 0===l?void 0:l.token_logo_url}catch(u){}let i=null===(r=this.migrated)||void 0===r||null===(r=r.tag)||void 0===r?void 0:r.split("_"),o=[{id:this.migrated.time,time:this.migrated.time/1e3,type:"migrated",color:{background:"transparent",padding:"10",border:"transparent"},imageUrl:t+"signals/marks/mark-m.png",labelFontColor:"#fff",minSize:20,hoveredBorderWidth:0,borderWidth:0,text:`${this.$t("migrated")}\n           ${this.$t("migratedTo")}: ${null===i||void 0===i?void 0:i[2]}\n           ${this.$t("migratedPrice")}: ${null!==i&&void 0!==i&&i[4]?"$"+this.$f.formatNumber2((null===i||void 0===i?void 0:i[4])||0):"--"}\n           ${this.$f.formatDate(null===i||void 0===i?void 0:i[3],"YYYY-MM-DD HH:mm:ss")}\n           `}];a=a.concat(o)}var n,c,d;null!==(s=this.widget)&&void 0!==s&&s.activeChart&&(null===(n=this.widget)||void 0===n||null===(c=n.activeChart)||void 0===c||null===(c=c.call(n))||void 0===c||null===(d=c.clearMarks)||void 0===d||d.call(c));t&&t(a)},dealMarkData(e,t,i,o){let s=switchResolution(t),a=e.map(e=>({...e})),r={},l=[];a.forEach(e=>{let t=parseInt(e.time/Number(s));void 0===r[t]&&(r[t]=l.length,l[r[t]]=[]),l[r[t]].push(e)});let n=[];l.forEach(e=>{let t=e.filter(e=>this.isBuy(e)),i=e.filter(e=>!this.isBuy(e));t.length>0&&n.push(t),i.length>0&&n.push(i)});let c=n.map(e=>{let t=e.length,a=e[0],r=e.reduce((e,t)=>Number(this.getAmountUSD(e))+Number(this.getAmountUSD(t)),0),l=1===t?this.$f.formatDate(a.time,"MM-DD HH:mm"):this.$f.formatDate(e[e.length-1].time,"MM-DD HH:mm")+" ~ "+this.$f.formatDate(a.time,"MM-DD HH:mm"),n=a.time-a.time%Number(s);return{id:a.time+"trade",time:n,type:"trade",color:this.isBuy(a)?{background:i}:{background:o},label:this.isBuy(a)?"B":"S",labelFontColor:"#fff",minSize:14,hoveredBorderWidth:0,position:this.isBuy(a)?"below":"above",borderWidth:0,text:`${this.isBuy(a)?this.$t("buy"):this.$t("sell")}  $${this.$f.formatNumber2(r)}  ${l}`}});return c},getKlineProfilingTags(e,t,i){var o;if(0===this.chartData.length)return Promise.resolve([]);let s=parseInt(((null===(o=this.initChartData[0])||void 0===o?void 0:o.time)||0)/1e3),a=parseInt(Date.now()/1e3);return new Promise((o,r)=>{Object(_api_index_js__WEBPACK_IMPORTED_MODULE_12__["fc"])(e,s,a,t,i).then(e=>{let t=Array.isArray(e)?e:[];o(t)}).catch(e=>{r([])})})},getKlineTxTags(e){var t;if(0===this.chartData.length||!this.$store.state.currentAccount&&!this.$store.getters.botWallet)return Promise.resolve([]);let i=parseInt(((null===(t=this.initChartData[0])||void 0===t?void 0:t.time)||0)/1e3),o=parseInt(Date.now()/1e3);return new Promise((t,s)=>{Object(_api_index_js__WEBPACK_IMPORTED_MODULE_12__["gc"])(e,i,o).then(e=>{let i=Array.isArray(e)?e:[];t(i)}).catch(e=>{s([])})})},async dealOtherMarkData(e,t,i,o){let s=switchResolution(e||this.resolution),a=[];"trade"==t?(o?(a=good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].get("kline_marks_my"),a.push(o)):a=await this.getKlineTxTags(s),good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_marks_my",a)):(a=await this.getKlineProfilingTags(s,t,this.pair.value),a=a.map(e=>{var t,i,o;let s=null===(t=this.initChartData)||void 0===t?void 0:t.find(t=>t.time==1e3*e.time);var a,r;0==(null===(i=e.sell)||void 0===i?void 0:i.volume)&&s&&(e.sell.volume=((null===s||void 0===s?void 0:s.close)+(null===s||void 0===s?void 0:s.open))/2*(null===(a=e.sell)||void 0===a?void 0:a.amount));0==(null===(o=e.buy)||void 0===o?void 0:o.volume)&&s&&(e.buy.volume=((null===s||void 0===s?void 0:s.close)+(null===s||void 0===s?void 0:s.open))/2*(null===(r=e.buy)||void 0===r?void 0:r.amount));return e}),"30"==t&&(a=a.map(e=>{var t,i,o,s,a,r,l,n,c,d,u,h,_,m,b,v,p,g;if(e.sell&&e.buy)(null===(t=e.buy)||void 0===t?void 0:t.volume)>(null===(i=e.sell)||void 0===i?void 0:i.volume)?(e.buy={...e.buy,netflow:(null===(o=e.buy)||void 0===o?void 0:o.volume)-(null===(s=e.sell)||void 0===s?void 0:s.volume),inflow:null===(a=e.buy)||void 0===a?void 0:a.volume,amount_in:null===(r=e.buy)||void 0===r?void 0:r.amount,txns_in:null===(l=e.buy)||void 0===l?void 0:l.txns,outflow:null===(n=e.sell)||void 0===n?void 0:n.volume,amount_out:null===(c=e.sell)||void 0===c?void 0:c.amount,txns_out:null===(d=e.sell)||void 0===d?void 0:d.txns},delete e.sell):(e.sell={...e.sell,netflow:(null===(u=e.sell)||void 0===u?void 0:u.volume)-(null===(h=e.buy)||void 0===h?void 0:h.volume),inflow:null===(_=e.buy)||void 0===_?void 0:_.volume,amount_in:null===(m=e.buy)||void 0===m?void 0:m.amount,txns_in:null===(b=e.buy)||void 0===b?void 0:b.txns,outflow:null===(v=e.sell)||void 0===v?void 0:v.volume,amount_out:null===(p=e.sell)||void 0===p?void 0:p.amount,txns_out:null===(g=e.sell)||void 0===g?void 0:g.txns},delete e.buy);else if(e.buy){var f,O,k,j;e.buy={...e.buy,netflow:null===(f=e.buy)||void 0===f?void 0:f.volume,inflow:null===(O=e.buy)||void 0===O?void 0:O.volume,amount_in:null===(k=e.buy)||void 0===k?void 0:k.amount,txns_in:null===(j=e.buy)||void 0===j?void 0:j.txns,outflow:0,amount_out:0,txns_out:0}}else{var $,y,w,E;e.sell={...e.sell,netflow:null===($=e.sell)||void 0===$?void 0:$.volume,inflow:0,amount_in:0,txns_in:0,outflow:null===(y=e.sell)||void 0===y?void 0:y.volume,amount_out:null===(w=e.sell)||void 0===w?void 0:w.amount,txns_out:null===(E=e.sell)||void 0===E?void 0:E.txns}}return e})));let r=a.map(e=>({...e})),l={},n=[];r.forEach(e=>{let t=parseInt(e.time/Number(s));void 0===l[t]&&(l[t]=n.length,n[l[t]]=[]),n[l[t]].push(e)});let c=[];null===n||void 0===n||n.forEach(e=>{let t=e.map(e=>({time:e.time,...e["buy"],add:e["add"],type:"buy"}));t=t.filter(e=>void 0!==e.volume);let i=e.map(e=>({time:e.time,...e["sell"],remove:e["remove"],type:"sell"}));i=i.filter(e=>void 0!==e.volume),t.length>0&&c.push(t),i.length>0&&c.push(i)});let d=c.map((e,o)=>{var a;let r=e.length,l=e[0],n=e.reduce((e,t)=>e+Number(t.amount),0),c=e.reduce((e,t)=>e+Number(t.volume),0),d=e.reduce((e,t)=>Number(e)+Number(t.txns),0),u=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["add"])||void 0===i?void 0:i.amount)},0),h=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["add"])||void 0===i?void 0:i.volume)},0),_=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["add"])||void 0===i?void 0:i.txns)},0),m=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["remove"])||void 0===i?void 0:i.amount)},0),b=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["remove"])||void 0===i?void 0:i.volume)},0),v=e.reduce((e,t)=>{var i;return e+Number(null===(i=t["remove"])||void 0===i?void 0:i.txns)},0),p=1===r?this.$f.formatDate(l.time,"YYYY-MM-DD HH:mm"):this.$f.formatDate(e[e.length-1].time,"YYYY-MM-DD HH:mm")+" ~ "+this.$f.formatDate(l.time,"YYYY-MM-DD HH:mm"),g=l.time-l.time%Number(s),f="buy"==l.type?this.$t("bought"):this.$t("sold"),O=25==t&&_>0?`\n${25==t&&_>0?this.$t("dev_add_liq"):""}\n${25==t&&_>0?this.$t("amountU")+": "+this.$f.formatNumber2(h||0):""}\n${25==t&&_>0?this.$t("amountB")+": "+this.$f.formatNumber2(u||0):""}\n${25==t&&_>0?this.$t("Txs")+": "+this.$f.formatNumber2(_||0):""}`:"",k=25==t&&v>0?`\n${25==t&&v>0?this.$t("dev_remove_liq"):""}\n${25==t&&v>0?this.$t("amountU")+": "+this.$f.formatNumber2(b||0):""}\n${25==t&&v>0?this.$t("amountB")+": "+this.$f.formatNumber2(m||0):""}\n${25==t&&v>0?this.$t("Txs")+": "+this.$f.formatNumber2(v||0):""}`:"";i=null===(a=i)||void 0===a||null===(a=a.split("("))||void 0===a?void 0:a[0];let j=`${i} ${f}\n${this.$t("amountB")}: ${this.$f.formatNumber2(n)}\n${this.$t("amountU")}: $${this.$f.formatNumber2(c)}\n${this.$t("price")}: $${this.$f.formatNumber2(c/(n||1))}\n${this.$t("Txs")}: ${this.$f.formatNumber2(d)}\n`+O+k+p;if("30"==t){let t=e.reduce((e,t)=>Number(e)+Number(t.netflow),0),o=e.reduce((e,t)=>Number(e)+Number(t.inflow),0),s=e.reduce((e,t)=>Number(e)+Number(t.amount_in),0),a=s>0?o/s:0,r=e.reduce((e,t)=>Number(e)+Number(t.txns_in),0),n=e.reduce((e,t)=>Number(e)+Number(t.outflow),0),c=e.reduce((e,t)=>Number(e)+Number(t.amount_out),0),d=c>0?n/c:0,u=e.reduce((e,t)=>Number(e)+Number(t.txns_out),0);j=`${i}  ${"buy"==l.type?this.$t("netInflow"):this.$t("netOutflow")}\n${this.$t("inflow")}:  $${this.$f.formatNumber2(o)+"("+this.$f.formatNumber2(r)+")"}\n${this.$t("campaignBuyAvg")+": $"+this.$f.formatNumber2(a||0)}\n${this.$t("outflow")}:  $${this.$f.formatNumber2(n)+"("+this.$f.formatNumber2(u)+")"}\n${this.$t("campaignSellAvg")+": $"+this.$f.formatNumber2(d||0)}\n${"buy"==l.type?this.$t("netInflow"):this.$t("netOutflow")}: $${this.$f.formatNumber2(t)}\n`+p}let $=localStorage.getItem("ave_globalConfig"),y="https://www.iconaves.com/";try{var w;if($)y=null===(w=JSON.parse($))||void 0===w?void 0:w.token_logo_url}catch(E){}return{id:o,time:g,type:l.type,color:{background:"transparent",padding:"10",border:"transparent"},imageUrl:"buy"==l.type?`${y}signals/marks/mark-buy-${t}.png`:`${y}signals/marks/mark-sell-${t}.png`,labelFontColor:"#fff",minSize:20,hoveredBorderWidth:0,borderWidth:0,text:j}});return d},async getBars(e,t,i,o,s){const{from:a,to:r,firstDataRequest:l}=i;this.onHistoryCallback=o;try{if(!this.initLoading)return this.initLoading=!0,void setTimeout(()=>{o([],{noData:!0}),this.chartData.forEach(e=>{var t;null===(t=this.onRealtimeCallback)||void 0===t||t.call(this,e)})},1e3);this.resolution!==t&&(this.resolution=t,localStorage.setItem("resolution",t)),l&&(this.loadingChange=!0,this.getKlineHistory(t,()=>{0===this.chartData.length&&this.isResetKline||(o([],{noData:!0}),this.chartData.forEach(e=>{this.onRealtimeCallback(e)})),this.loadingChange=!1,this.isResetKline=!1}))}catch(n){s(n)}},subscribeBars(e,t,i,o,s){this.setData(),t===this.resolution&&(this.onRealtimeCallback=i,this.onResetCacheNeededCallback=s)},unsubscribeBars(e){},getKlineHistory(e=this.resolution,t=null){var i;let o=null===(i=this.$store.state)||void 0===i||null===(i=i.pair)||void 0===i?void 0:i.chain,s=o&&supportSecChains.includes(o);s||"1S"!==e||(e="15");let a=switchResolution(e);return new Promise(i=>{if(this.$route.params.id&&this.$store.state.pair.value==this.pair.value){let o=["kline",this.$store.state.pair.address,e,this.$store.state.pair.chain],s=this.$store.state.wsKlineParams,r=null===o||void 0===o?void 0:o.every((e,t)=>e===s[t]);r||this.unsubscribeKline(),Object(_api_index_js__WEBPACK_IMPORTED_MODULE_12__["dc"])(a,this.pair.value).then(async e=>{var o;let s=Array.isArray(e)?e:[];this.showMarket?this.initChartData=null===s||void 0===s?void 0:s.map(e=>{var t,i,o,s;return{...e,open:(null===(t=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(e.open).times(this.circulation))||void 0===t?void 0:t.toString())/1e3,high:(null===(i=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(e.high).times(this.circulation))||void 0===i?void 0:i.toString())/1e3,low:(null===(o=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(e.low).times(this.circulation))||void 0===o?void 0:o.toString())/1e3,close:(null===(s=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(e.close).times(this.circulation))||void 0===s?void 0:s.toString())/1e3}}):this.initChartData=null===s||void 0===s?void 0:s.map(e=>({...e})),this.chartData=null===(o=this.initChartData)||void 0===o?void 0:o.map(e=>({...e}));for(let t=0;t<this.arr_dot.length;t++){let e=this.arr_dot[t];if(this.kline_dot_show_obj[e.id]){let t=await this.dealOtherMarkData(this.resolution,e.id,e.name);this.kline_marks[e.id]=t}}good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("kline_marks",this.kline_marks),this.migrated=(null===s||void 0===s?void 0:s.find(e=>{var t;return""!==e.tag&&(null===(t=e.tag)||void 0===t?void 0:t.startsWith("migrated"))}))||{},t&&t(),i(e),r||this.subscribeKline()}).catch(e=>{i([])}).finally(()=>{})}else i([])})},setData(e=this.chartData){Array.isArray(e)},subscribeKline(){if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&this.resolution&&this.$store.state.pair.address){var e,t;const s={"1D":"1440","1W":"10080"};let a=s[this.resolution]||this.resolution;var i,o;if(null!==(e=a)&&void 0!==e&&null!==(t=e.endsWith)&&void 0!==t&&t.call(e,"S"))a="s"+(null===(i=a)||void 0===i||null===(o=i.slice)||void 0===o?void 0:o.call(i,0,-1));else a="k"+a;let r={jsonrpc:"2.0",method:"subscribe",params:["kline",this.$store.state.pair.address,a,this.$store.state.pair.chain],id:1};this.$store.commit("setState",{name:"wsKlineParams",value:r.params}),this.$store.commit("wsSend",r)}},unsubscribeKline(){if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&this.klineParams&&Array.isArray(this.klineParams)&&4===this.klineParams.length&&this.klineParams[1]){let e={jsonrpc:"2.0",method:"unsubscribe",params:this.klineParams,id:1};this.$store.commit("wsSend",e)}},formatLang(e){let t={en:"en","zh-cn":"zh","zh-tw":"zh_TW"};return t[e]||"en"},saveStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){var t,i;let e=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t).getAllStudies();good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].set("tradingViewStudies",e.filter(e=>"Volume"!==e.name))}},createStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){let e=good_storage__WEBPACK_IMPORTED_MODULE_13__["a"].get("tradingViewStudies");if(e.forEach(e=>{var t,i;null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).createStudy(e.name,!1,!1)}),localStorage["tradingview.chart.favoriteLibraryIndicators"]){let e=JSON.parse(localStorage["tradingview.chart.favoriteLibraryIndicators"]);e.forEach(e=>{var t,i;null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).createStudy(e,!1,!1)})}this.createPositionPriceLine(),this.createMigratePriceLine()}},createPositionPriceLine(){var e,t,i,o,s,a,r;if(this.isReady=!0,!this.widget||null===(e=this.widget)||void 0===e||!e.activeChart)return;let l=this.$store.state.bot.allChainsBalances||[];const n=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t);let c=null===l||void 0===l||null===(o=l.find)||void 0===o?void 0:o.call(l,e=>{var t,i,o,s;return(null===e||void 0===e||null===(t=e.token)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=this.$store.state.tokenInfo)||void 0===o||null===(o=o.address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o))}),d=this.hlineId;if(!n||!c&&!d)return;let u=Number(null===c||void 0===c?void 0:c.avgPrice)||0;var h;this.showMarket&&(u=(null===(h=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(u).times(this.circulation))||void 0===h?void 0:h.toString())/1e3);if(d){var _;let e=null===n||void 0===n||null===(_=n.getShapeById)||void 0===_?void 0:_.call(n,d);var m;if(!c&&e)return null===n||void 0===n||null===(m=n.removeEntity)||void 0===m||m.call(n,d),void(this.hlineId="");if(e)return void e.setPoints([{price:u}])}d=null===n||void 0===n||null===(s=n.createShape)||void 0===s?void 0:s.call(n,{price:u},{shape:"horizontal_line",lock:!0,disableSelection:!0,disableSave:!0,text:this.$t("averagePositionPrice"),overrides:{linecolor:"#999999",linewidth:1,linestyle:2}}),this.hlineId=d,null===n||void 0===n||null===(a=n.getShapeById)||void 0===a||null===(a=a.call(n,d))||void 0===a||null===(r=a.setProperties)||void 0===r||r.call(a,{textcolor:"#999999",showLabel:!0,horzLabelsAlign:"right",vertLabelsAlign:"middle",bold:!0,fontSize:14})},createMigratePriceLine(){var e,t,i,o,s,a,r,l;if(this.isReady=!0,!this.widget||null===(e=this.widget)||void 0===e||!e.activeChart)return;const n=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t);let c=this.migratedHLineId,d=Number((null===(o=this.migrated)||void 0===o||null===(o=o.tag)||void 0===o||null===(s=o.split)||void 0===s||null===(s=s.call(o,"_"))||void 0===s?void 0:s[4])||0);if(d){var u;if(this.showMarket)d=(null===(u=new bignumber_js__WEBPACK_IMPORTED_MODULE_16___default.a(d).times(this.circulation))||void 0===u?void 0:u.toString())/1e3;if(c){var h;let e=null===n||void 0===n||null===(h=n.getShapeById)||void 0===h?void 0:h.call(n,c);if(e)return void e.setPoints([{price:d}])}c=null===n||void 0===n||null===(a=n.createShape)||void 0===a?void 0:a.call(n,{price:d},{shape:"horizontal_line",lock:!0,disableSelection:!0,disableSave:!0,text:this.showMarket?this.$t("migratedMCap"):this.$t("migratedPrice"),overrides:{linecolor:"#722ED1",linewidth:1,linestyle:2}}),this.migratedHLineId=c,null===n||void 0===n||null===(r=n.getShapeById)||void 0===r||null===(r=r.call(n,c))||void 0===r||null===(l=r.setProperties)||void 0===l||l.call(r,{textcolor:"#722ED1",showLabel:!0,horzLabelsAlign:"right",vertLabelsAlign:"middle",bold:!0,fontSize:14})}else if(c){var _;let e=null===n||void 0===n||null===(_=n.getShapeById)||void 0===_?void 0:_.call(n,c);var m;if(e)null===n||void 0===n||null===(m=n.removeEntity)||void 0===m||m.call(n,c),this.migratedHLineId=""}}}}},fa85:function(e,t,i){e.exports=i.p+"static/img/unlock.636d2374.png"}}]);